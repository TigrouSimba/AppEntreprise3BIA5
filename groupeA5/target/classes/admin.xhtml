<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
<title>Accueil</title>
<meta http-equiv="
	Content-Type" content="text/html; charset=UTF-8" />
<script src="http://code.jquery.com/jquery.js"></script>
<script src="javascript/script.js"></script>
</head>

<body>
	<div id="nav" />
	<div class="container-fluid">
		<div class="card bg-light border-dark shadow-sm bg-white rounded">
			<div class="card-body">
			<div class="row">
					<div class="col col-5">
						<h3>
							<b><em>Ev√®nements</em></b>
						</h3>
						<ul>
							<h:form>
								<ui:repeat value="#{evenementControl.ejb.findAllEnCours()}" var="item">
									<li>
								
										<div class="row">
										<div class="col col-5">
											<div
												class="card border-dark shadow-sm p-1 mb-3 bg-white rounded">
												<div class="card-body">
													<!-- <h:link outcome="association.xhtml" value="#{item.nomEvenement}" />-->
													<h:link value="#{item.nomEvenement}"
														outcome="association.xhtml">
														<f:param name="nom" value="#{item.nomEvenement}" />
													</h:link>
												</div>
											</div>
											</div>
											<div class="col col-auto">
											<h:commandButton
												class="btn btn-lg btn-primary btn-block text-uppercase"
												type="submit" action="#{evenementControl.accepterEvenement(item)}"
												value="Enregistrer"></h:commandButton>
												</div>
												
										</div>
									</li>
								</ui:repeat>
							</h:form>

						</ul>
					</div>
					
				</div>
				<h:form method="POST" enctype="multipart/form-data">
					File: <h:inputFile value="#{imageControl.file}" name="file" id="file" />
					<br />
					<h:commandButton
						class="btn btn-lg btn-primary btn-block text-uppercase"
						type="submit" action="#{imageControl.ajoutImage()}"
						value="Enregistrer"></h:commandButton>
				</h:form>
				<br/>
				<h:form>
								<ui:repeat value="#{imageControl.ejb.findAll()}" var="item" varStatus="myVarStatus">
									<li>
										<div class="row">
											<div
												class="card border-dark shadow-sm p-1 mb-3 bg-white rounded">
												<div class="card-body">
													<!-- <h:link outcome="association.xhtml" value="#{item.nomEvenement}" />-->
													
													<img src="data:image/jpg;base64,#{imageControl.imageShow(myVarStatus.index)}" height="200" width="200"/>
													
													
												</div>
											</div>
										</div>
										
									</li>
								</ui:repeat>
							</h:form>
							
							
			</div>
		</div>
	</div>
</body>
</html>