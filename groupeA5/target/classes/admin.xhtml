<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
<title>Accueil</title>
<meta http-equiv="
	Content-Type" content="text/html; charset=UTF-8" />
<script src="jquery/jquery-3.4.1.min.js"></script>
<script src="javascript/script.js"></script>
</head>

<body>
	<div id="nav" />
	<div class="container-fluid">
		<div class="card bg-light border-dark shadow-sm bg-white rounded">
			<div class="card-body">
			
			<div class="row">
				<h3>
					<b><em>Comptes</em></b>
				</h3>
				<table class="table">
				  <thead class="thead-dark">
				    <tr>
				      <th scope="col">#</th>
				      <th scope="col">Nom</th>
				      <th scope="col">Prénom</th>
				      <th scope="col">Email</th>
				      <th scope="col">Section</th>
				      <th scope="col">Année de diplomation</th>
				      <th scope="col">Description</th>
				      <th scope="col">Photo</th>
				    </tr>
				  </thead>
				  <tbody>
				  	<h:form>
						<ui:repeat value="#{utilisateurControl.ejbEleve.findAllNotAccepted()}" var="item" varStatus="myVarStatus">
						
						    <tr>
						      <th scope="row">#{myVarStatus.index+1}</th>
						      <td>#{item.nom}</td>
						      <td>#{item.prenom}</td>
						      <td>#{item.email}</td>
						      <td>#{item.sections}</td>
						      <td>#{item.annee}</td>
						      <td>#{item.description}</td>
						      <td>
						      	 <img src="data:image/jpg;base64,#{imageControl.imageShow(item.img.img)}" height="50" width="50"/>
						      </td>
						      <td>
						      	<h:commandButton
										class="btn btn-lg btn-primary btn-block text-uppercase"
										type="submit" action="#{utilisateurControl.accepterEleve(item)}"
										value="Enregistrer"></h:commandButton>
						      </td>
						    </tr>
				   		</ui:repeat>
				   	</h:form>
				  </tbody>
				</table>
					
				
			</div>
			<br/>
			<div class="row">
						<h3>
							<b><em>Annonces</em></b>
						</h3>
						<table class="table">
						  <thead class="thead-dark">
						    <tr>
						      <th scope="col">#</th>
						      <th scope="col">Email du créateur</th>
						      <th scope="col">Nom de l'annonce</th>
						      <th scope="col">Validation</th>
						    </tr>
						  </thead>
						  <tbody>
						  	<h:form>
								<ui:repeat value="#{annonceControl.ejb.findAllNotAccepted()}" var="item" varStatus="myVarStatus">
								
								    <tr>
								      <th scope="row">#{myVarStatus.index+1}</th>
								      <td>#{item.user.login}</td>
								      <td>
								      	<h:link value="#{item.nomEvenement}" outcome="association.xhtml">
											<f:param name="nom" value="#{item.nomEvenement}" />
											<f:param name="id" value="#{item.id}" />
										</h:link>
								      </td>
								      <td>
								      	<h:commandButton
												class="btn btn-lg btn-primary btn-block text-uppercase"
												type="submit" action="#{annonceControl.accepterEvenement(item)}"
												value="Enregistrer"></h:commandButton>
								      </td>
								    </tr>
						   		</ui:repeat>
						   	</h:form>
						  </tbody>
						</table>
						
					
				</div>
				
				<br/>
				<div class="row">
						<h3>
							<b><em>Evènements</em></b>
						</h3>
						<table class="table">
						  <thead class="thead-dark">
						    <tr>
						      <th scope="col">#</th>
						      <th scope="col">Email du créateur</th>
						      <th scope="col">Nom de l'événement</th>
						      <th scope="col">Contenu de l'événement</th>
						      <th scope="col">Validation</th>
						    </tr>
						  </thead>
						  <tbody>
						  	<h:form>
								<ui:repeat value="#{evenementControl.ejb.findAllNotAccepted()}" var="item" varStatus="myVarStatus">
								
								    <tr>
								      <th scope="row">#{myVarStatus.index+1}</th>
								      <td>#{item.user.login}</td>
								      <td>
								      	#{item.nomEvenement}
								      </td>
								      <td>
								      	#{item.contenu}
								      </td>
								      <td>
								      	<h:commandButton
												class="btn btn-lg btn-primary btn-block text-uppercase"
												type="submit" action="#{evenementControl.accepterEvenement(item)}"
												value="Enregistrer"></h:commandButton>
								      </td>
								    </tr>
						   		</ui:repeat>
						   	</h:form>
						  </tbody>
						</table>
						
					
				</div>
				<br/>
				
				<div class="row">
						<h3>
							<b><em>Demandes</em></b>
						</h3>
						<table class="table">
						  <thead class="thead-dark">
						    <tr>
						      <th scope="col">#</th>
						      <th scope="col">Nom de la demande</th>
						      <th scope="col">Validation</th>
						    </tr>
						  </thead>
						  <tbody>
						  	<h:form>
								<ui:repeat value="#{demandeStageControl.ejb.findAll()}" var="item" varStatus="myVarStatus">
								
								    <tr>
								      <th scope="row">#{myVarStatus.index+1}</th>
								      <td>#{item.nom}</td>
								      
								      <td>
								      	<h:commandButton
												class="btn btn-lg btn-primary btn-block text-uppercase"
												type="submit" action="#{demandeStageControl.accepterStage(item)}"
												value="Enregistrer"></h:commandButton>
								      </td>
								    </tr>
						   		</ui:repeat>
						   	</h:form>
						  </tbody>
						</table>
						
					
				</div>
		
				
			</div>
		</div>
	</div>
</body>
</html>