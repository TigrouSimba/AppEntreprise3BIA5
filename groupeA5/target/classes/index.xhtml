<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
<title>Accueil</title>
<meta http-equiv="
	Content-Type" content="text/html; charset=UTF-8" />
<script src="http://code.jquery.com/jquery.js"></script>
<script src="javascript/script.js"></script>
</head>

<body>
	<div id="nav" />
	<div class="container-fluid">
		<div class="card bg-light border-dark shadow-sm bg-white rounded">
			<div class="card-body">
				<div class="row">
					<div class="card border-dark shadow-sm p-1 mb-3 bg-white rounded">
						<div class="card-body">Bienvenue aux élèves !</div>
					</div>
				</div>
				<div class="row">
					<div class="col col-5">
						<h3>
							<b><em>Evènements</em></b>
						</h3>
						<ul style="list-style-type: none;">
							<h:form>
								<ui:repeat value="#{evenementControl.ejb.findAllAccepter()}" var="item">
									<li>
										<div class="row">
											<div
												class="card border-dark shadow-sm p-1 mb-3 bg-white rounded">
												<div class="card-body">
													<!-- <h:link outcome="association.xhtml" value="#{item.nomEvenement}" />-->
													<h:link value="#{item.nomEvenement}"
														outcome="association.xhtml">
														<f:param name="nom" value="#{item.nomEvenement}" />
													</h:link>
												</div>
											</div>
										</div>
									</li>
								</ui:repeat>
							</h:form>

						</ul>
						<h:form rendered="#{utilisateurControl.isAdmin() eq 'true'}">
				<div class="row">			
					<h:form method="POST">
					Nom de l'évènement: <h:inputText value="#{evenementControl.nomEvenement}" required="true"
								requiredMessage="Le champ ne peut pas être vide"/>
					<br />
					<h:commandButton
						class="btn btn-lg btn-primary btn-block text-uppercase"
						type="submit" action="#{evenementControl.ajoutEvenement()}"
						value="Enregistrer"></h:commandButton>
				</h:form>
				</div>
				</h:form>
					</div>
					<div class="col col-5">
						<h3>
							<b><em>Portraits</em></b>
						</h3>
						<!-- <ul style="list-style-type: none;">-->
						
							<ul style="list-style-type: none;">
							<h:form>
								<ui:repeat value="#{portraitControl.ejb.findAll()}" var="item" varStatus="myVarStatus">
									<li>
										<div class="row">
											<div
												class="card border-dark shadow-sm p-1 mb-3 bg-white rounded">
												<div class="card-body">
													<img src="data:image/jpg;base64,#{imageControl.imageShow(myVarStatus.index)}" height="200" width="200"/>
													<br/>
													<i>"#{item.temoignage}"</i>
												</div>
											</div>
										</div>
									</li>
								</ui:repeat>
							</h:form>

						</ul>
						<h:form rendered="#{utilisateurControl.isAdmin() eq 'true'}">
						<div class="row">			
					<h:form method="POST" enctype="multipart/form-data">
					Témoignage : <h:inputText value="#{portraitControl.temoignage}" required="true"
								requiredMessage="Le champ ne peut pas être vide"/>
					<br />
					Nom de la personne ayant fait le témoignage : <h:inputText value="#{portraitControl.nom}" required="true"
								requiredMessage="Le champ ne peut pas être vide"/>
					<br />
					Photo : <h:inputFile value="#{portraitControl.file}" name="file" id="file" />
					<br/>
					<h:commandButton
						class="btn btn-lg btn-primary btn-block text-uppercase"
						type="submit" action="#{portraitControl.ajoutPortrait()}"
						value="Enregistrer"></h:commandButton>
				</h:form>
				</div>
				</h:form>
					</div>
				</div>
				
			</div>
		</div>
	</div>
</body>
</html>
